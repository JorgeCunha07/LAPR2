<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="417px" preserveAspectRatio="none" style="width:1100px;height:417px;background:#FFFFFF;" version="1.1" viewBox="0 0 1100 417" width="1100px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="296.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="293" y="67.7988"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="594" y="275.041"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="594" y="334.3516"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="847" y="97.1094"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="847" y="156.4199"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007.5" y="215.7305"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="297.5" x2="297.5" y1="36.4883" y2="382.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="598.5" x2="598.5" y1="36.4883" y2="382.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="715.5" x2="715.5" y1="36.4883" y2="382.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="851.5" x2="851.5" y1="36.4883" y2="382.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1012.5" x2="1012.5" y1="36.4883" y2="382.3516"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="258.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="265.5" y="25.5352">Company</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="258.5" y="381.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="265.5" y="401.8867">Company</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="549.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="556.5" y="25.5352">:AuthFacade</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="549.5" y="381.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="556.5" y="401.8867">:AuthFacade</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="658.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="665.5" y="25.5352">: SNSUserStore</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="658.5" y="381.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="665.5" y="401.8867">: SNSUserStore</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="783.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="790.5" y="25.5352">snsUser : SNSUser</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="783.5" y="381.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="790.5" y="401.8867">snsUser : SNSUser</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="930.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="937.5" y="25.5352">roleDto: UserRoleDTO</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="930.5" y="381.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="937.5" y="401.8867">roleDto: UserRoleDTO</text><rect fill="#FFFFFF" height="296.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="293" y="67.7988"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="594" y="275.041"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="594" y="334.3516"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="847" y="97.1094"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="847" y="156.4199"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007.5" y="215.7305"/><ellipse cx="7.5" cy="67.0488" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="281,63.7988,291,67.7988,281,71.7988,285,67.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="12" x2="287" y1="67.7988" y2="67.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="15" y="63.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="28" y="63.0566">addUserWithRole(snsUser,roleDTO,pass)</text><polygon fill="#181818" points="835,93.1094,845,97.1094,835,101.1094,839,97.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="841" y1="97.1094" y2="97.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="310" y="92.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="323" y="92.3672">name = getName()</text><polygon fill="#181818" points="835,152.4199,845,156.4199,835,160.4199,839,156.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="841" y1="156.4199" y2="156.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="310" y="151.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="323" y="151.6777">email = getEmail()</text><polygon fill="#181818" points="995.5,211.7305,1005.5,215.7305,995.5,219.7305,999.5,215.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="1001.5" y1="215.7305" y2="215.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="310" y="210.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="323" y="210.9883">roleId = getId()</text><polygon fill="#181818" points="582,271.041,592,275.041,582,279.041,586,275.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="588" y1="275.041" y2="275.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="310" y="270.2988">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="323" y="270.2988">existsRole(roleId)</text><polygon fill="#181818" points="582,330.3516,592,334.3516,582,338.3516,586,334.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="303" x2="588" y1="334.3516" y2="334.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="310" y="329.6094">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="323" y="329.6094">addUserWithRole(name,email,pass,roleId)</text><!--MD5=[c18358cdb316825a5672265bdcbf5f3e]
@startuml

participant "Company" as COMP
participant ":AuthFacade" as AUTH
participant ": SNSUserStore" as SNSUserStore
participant "snsUser : SNSUser" as SNSUser
participant "roleDto: UserRoleDTO" as DTO

autonumber
[o- -> COMP : addUserWithRole(snsUser,roleDTO,pass)
activate COMP

    COMP -> SNSUser: name = getName()

    activate SNSUser
    deactivate SNSUser

    COMP -> SNSUser: email = getEmail()

    activate SNSUser
    deactivate SNSUser

    COMP -> DTO: roleId = getId()

    activate DTO
    deactivate DTO

    COMP -> AUTH: existsRole(roleId)

    activate AUTH
    deactivate AUTH


    COMP - -> AUTH : addUserWithRole(name,email,pass,roleId)
    activate AUTH

    deactivate AUTH
    deactivate COMP
@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>